<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Agent - Impression & Impression</title>
    <!-- Police Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Feuille de style -->
    <link rel="stylesheet" href="../css/agent.css">
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üñ®Ô∏è</text></svg>">
</head>
<body>
    <!-- Barre sup√©rieure -->
    <header class="topbar">
        <div class="topbar-content">
            <!-- Logo -->
            <div class="logo">
                <div class="logo-icon">üñ®Ô∏è</div>
                <span class="logo-text">AirDocs</span>
            </div>
            
            <!-- Navigation centrale -->
            <nav class="main-nav">
                <a href="dashboard.html" class="nav-item active">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                    </svg>
                    <span>Conversations</span>
                </a>
                <a href="contacts.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                    </svg>
                    <span>Contacts</span>
                </a>
                <a href="pipeline.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                    </svg>
                    <span>Pipeline</span>
                </a>
                <a href="campaigns.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                    </svg>
                    <span>Campagnes</span>
                </a>
            </nav>
            
            <!-- Profil et date -->
            <div class="topbar-right">
                <div class="date-display" id="current-date">Mercredi 5 juin</div>
                <div class="profile">
                    <div class="profile-avatar">PL</div>
                    <span class="profile-name">Paul Leon</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Conteneur principal -->
    <main class="dashboard-container">
        <!-- Barre lat√©rale gauche -->
        <aside class="sidebar">
            <div class="sidebar-nav">
                <button class="sidebar-item active" data-filter="unassigned" title="Non assign√©es">
                    <svg class="sidebar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5 1.5l-5-5m0 5l5-5"/>
                    </svg>
                </button>
                <button class="sidebar-item" data-filter="assigned" title="Assign√©es √† moi">
                    <svg class="sidebar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                    </svg>
                </button>
                <button class="sidebar-item" data-filter="all" title="Toutes">
                    <svg class="sidebar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                    </svg>
                </button>
                <button class="sidebar-item" data-filter="live" title="Chat en direct">
                    <svg class="sidebar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                    </svg>
                </button>
                <button class="sidebar-item" data-filter="blocked" title="Bloqu√©es">
                    <svg class="sidebar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"/>
                    </svg>
                </button>
                <button class="sidebar-item" data-filter="trash" title="Corbeille">
                    <svg class="sidebar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                    </svg>
                </button>
                
                <div class="sidebar-divider"></div>
                
                <button class="sidebar-item" id="dark-mode-toggle" title="Mode sombre">
                    <svg class="sidebar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
                    </svg>
                </button>
            </div>
        </aside>

        <!-- Liste des conversations -->
        <section class="conversations-panel">
            <div class="panel-header">
                <div class="search-container">
                    <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                    <input type="text" class="search-input" placeholder="Rechercher une conversation...">
                </div>
                
                <div class="filter-tabs">
                    <button class="filter-tab active" data-filter="all">Toutes</button>
                    <button class="filter-tab" data-filter="unread">Non lues</button>
                    <button class="filter-tab" data-filter="active">Actives</button>
                </div>
            </div>
            
            <div class="conversations-list" id="conversations-list">
                <!-- Les conversations seront charg√©es dynamiquement ici -->
            </div>
        </section>

        <!-- Zone de chat principale -->
        <section class="chat-panel">
            <!-- √âtat vide -->
            <div class="empty-chat-state" id="empty-chat-state">
                <div class="empty-icon">üí¨</div>
                <h3>Aucune conversation s√©lectionn√©e</h3>
                <p>S√©lectionnez une conversation dans la liste √† gauche pour afficher les messages</p>
            </div>
            
            <!-- Header du chat (cach√© par d√©faut) -->
            <div class="chat-header hidden" id="chat-header">
                <div class="chat-user-info">
                    <div class="user-avatar" id="chat-user-avatar">BM</div>
                    <div class="user-details">
                        <h4 id="chat-user-name">Brandon Madsen</h4>
                        <p id="chat-user-status">En ligne ‚Ä¢ Commande #ORD-78923</p>
                    </div>
                </div>
                <div class="chat-actions">
                    <button class="btn-secondary">Marquer comme termin√©</button>
                    <button class="btn-primary">Imprimer</button>
                </div>
            </div>
            
            <!-- Messages (cach√©s par d√©faut) -->
            <div class="chat-messages hidden" id="chat-messages">
                <!-- Les messages seront charg√©s dynamiquement ici -->
            </div>
            
            <!-- Composer (cach√© par d√©faut) -->
            <div class="chat-composer hidden" id="chat-composer">
                <div class="composer-tools">
                    <button class="composer-tool" title="Joindre un fichier">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"/>
                        </svg>
                    </button>
                    <button class="composer-tool" title="√âmojis">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </button>
                </div>
                <textarea class="message-input" id="message-input" placeholder="√âcrire un message..." rows="1"></textarea>
                <button class="send-button" id="send-button">Envoyer</button>
            </div>
            
            <!-- Quick templates -->
            <div class="quick-templates hidden" id="quick-templates">
                <button class="quick-template" data-text="Bonjour, votre commande est pr√™te √† √™tre r√©cup√©r√©e.">Commande pr√™te</button>
                <button class="quick-template" data-text="Quelle heure vous convient pour r√©cup√©rer ?">Quelle heure ?</button>
                <button class="quick-template" data-text="Paiement re√ßu avec succ√®s. Merci !">Paiement confirm√©</button>
            </div>
        </section>

        <!-- Panneau droit - Informations -->
        <aside class="info-panel">
            <!-- √âtat vide -->
            <div class="empty-info-state" id="empty-info-state">
                <div class="empty-icon">üìã</div>
                <h3>Aucune information</h3>
                <p>S√©lectionnez une conversation pour afficher les d√©tails</p>
            </div>
            
            <!-- Contenu info (cach√© par d√©faut) -->
            <div class="info-content hidden" id="info-content">
                <!-- Informations client -->
                <div class="info-section">
                    <h3 class="info-section-title">Informations client</h3>
                    <div class="client-info">
                        <div class="client-avatar" id="client-avatar">BM</div>
                        <div class="client-details">
                            <h4 id="client-name">Brandon Madsen</h4>
                            <p id="client-email">brandon.madsen@example.com</p>
                            <p id="client-phone">+243 81 234 5678</p>
                        </div>
                    </div>
                </div>
                
                <!-- Statut de la commande -->
                <div class="info-section">
                    <h3 class="info-section-title">Statut de la commande</h3>
                    <div class="status-grid">
                        <div class="status-item">
                            <span class="status-label">Num√©ro:</span>
                            <span class="status-value" id="order-number">ORD-78923</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Date:</span>
                            <span class="status-value" id="order-date">05/06/2023</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Statut:</span>
                            <span class="status-badge" id="order-status">En traitement</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Paiement:</span>
                            <span class="payment-badge" id="payment-status">En attente</span>
                        </div>
                    </div>
                </div>
                
                <!-- D√©tails de l'impression -->
                <div class="info-section">
                    <h3 class="info-section-title">D√©tails de l'impression</h3>
                    <div class="print-details">
                        <div class="print-item">
                            <span>Pages:</span>
                            <strong id="print-pages">24</strong>
                        </div>
                        <div class="print-item">
                            <span>Couleurs:</span>
                            <strong id="print-colors">Couleur</strong>
                        </div>
                        <div class="print-item">
                            <span>Recto/Verso:</span>
                            <strong id="print-sides">Recto seulement</strong>
                        </div>
                        <div class="print-item">
                            <span>Reliure:</span>
                            <strong id="print-binding">Spirale</strong>
                        </div>
                        <div class="print-item">
                            <span>Format:</span>
                            <strong id="print-format">A4</strong>
                        </div>
                        <div class="print-item">
                            <span>Papier:</span>
                            <strong id="print-paper">80g standard</strong>
                        </div>
                    </div>
                </div>
                
                <!-- Documents joints -->
                <div class="info-section">
                    <h3 class="info-section-title">Documents joints</h3>
                    <div class="documents-list" id="documents-list">
                        <!-- Les documents seront charg√©s dynamiquement ici -->
                    </div>
                </div>
                
                <!-- Widget de paiement -->
                <div class="info-section payment-widget">
                    <h3 class="info-section-title">Paiement sur place</h3>
                    <div class="payment-amount">
                        <div class="amount-label">Montant √† payer:</div>
                        <div class="amount-value" id="payment-amount">3 500 FC</div>
                    </div>
                    
                    <div class="payment-input-group">
                        <label for="cash-received">Montant re√ßu</label>
                        <input type="number" id="cash-received" placeholder="Entrez le montant">
                        <div class="payment-change">
                            <span>√Ä rendre:</span>
                            <span id="change-amount">0 FC</span>
                        </div>
                    </div>
                    
                    <div class="payment-actions">
                        <button class="btn-primary" id="record-payment">Enregistrer paiement</button>
                        <button class="btn-secondary" id="cancel-payment">Annuler</button>
                    </div>
                    
                    <div class="payment-note">
                        <small>‚Ä¢ Montants en FC (Franc congolais)</small>
                        <small>‚Ä¢ Aucune d√©cimale accept√©e</small>
                    </div>
                </div>
            </div>
        </aside>
    </main>

    <!-- Modals -->
    <div class="modal-overlay hidden" id="payment-modal">
        <div class="modal">
            <div class="modal-success-icon">‚úì</div>
            <h3>Paiement enregistr√©</h3>
            <p>Le paiement a √©t√© enregistr√© avec succ√®s. Un re√ßu a √©t√© g√©n√©r√©.</p>
            
            <div class="payment-summary">
                <div class="summary-item">
                    <span>Montant pay√©:</span>
                    <span id="modal-amount-due">3 500 FC</span>
                </div>
                <div class="summary-item">
                    <span>Montant re√ßu:</span>
                    <span id="modal-amount-received">4 000 FC</span>
                </div>
                <div class="summary-item">
                    <span>√Ä rendre:</span>
                    <span id="modal-change-amount">500 FC</span>
                </div>
            </div>
            
            <button class="btn-primary modal-close" id="close-payment-modal">Fermer</button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../js/agent/agent-dashboard.js"></script>
</body>
</html>